
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>FriendFinder</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/B5B67847-E052-C646-BF96-872C849B46FB/main.js" charset="UTF-8"></script>
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

</head>
<body>

	<div class="container">

		<br>
		<a href="/"><button type="button" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-home"></span> </button></a>
		<h2> Survey Questions </h2>
		<hr>

		<h3><strong> About You </strong></h3>
		<h4> Name (required) </h4>
		<input type="text" name="" id="name" class="form-control" required>

		<h4> Link to Photo Image (Required) </h4>
		<input type="text" name="" id="photo" class="form-control" required>

		<hr>

		<!-- Question 1 -->
		<h3><strong> Question 1 </strong></h3>
		<h4> You do unto others as you would have them do unto you. </h4>
			<select data-placeholder="" class="chosen-select" id="question1">
				<option value="">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
            </select>
		<!-- Question 2 -->
		<h3><strong> Question 2 </strong></h3>
		<h4> You never walk around with your accomplishments tattoed on your forehead. </h4>
			<select data-placeholder="" class="chosen-select" id="question2">
				<option value="">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
            </select>
		<!-- Question 3 -->
		<h3><strong> Question 3 </strong></h3>
		<h4> You're always concerned with the content not its container. </h4>
			<select data-placeholder="" class="chosen-select" id="question3">
				<option value="">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
            </select>
		<!-- Question 4 -->
		<h3><strong> Question 4 </strong></h3>
		<h4> We are the only living creatures in this universe. </h4>
			<select data-placeholder="" class="chosen-select" id="question4">
				<option value="">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
            </select>
		<!-- Question 5 -->
		<h3><strong> Question 5 </strong></h3>
		<h4> You focus on the possibilities and not the road blocks. </h4>
			<select data-placeholder="" class="chosen-select" id="question5">
				<option value="">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
            </select>
		<!-- Question 6 -->
		<h3><strong> Question 6 </strong></h3>
		<h4> Plan B is for timid souls. </h4>
			<select data-placeholder="" class="chosen-select" id="question6">
				<option value="">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
            </select>
		<!-- Question 7 -->
		<h3><strong> Question 7 </strong></h3>
		<h4> If you encounter a lion in the jungle, you would immediately start to run. </h4>
			<select data-placeholder="" class="chosen-select" id="question7">
				<option value="">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
            </select>
		<!-- Question 8 -->
		<h3><strong> Question 8 </strong></h3>
		<h4> Jack Bashirian is a considerate young man. </h4>
			<select data-placeholder="" class="chosen-select" id="question8">
				<option value="">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
            </select>
		<!-- Question 9 -->
		<h3><strong> Question 9 </strong></h3>
		<h4> Software engineering is not a real job. </h4>
			<select data-placeholder="" class="chosen-select" id="question9">
				<option value="">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
            </select>
		<!-- Question 10 -->
		<h3><strong> Question 10 </strong></h3>
		<h4> If you live in a foreign country, you respect its people and culture no matter how much you disagree with either. </h4>
			<select data-placeholder="" class="chosen-select" id="question10">
				<option value="">Select an Option</option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Agree)</option>
            </select>
            <br>
            <br>
			
		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i> Submit</button>

		<hr>

	    <footer class="footer">
	      <div class="container">
		        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/menelik7/FriendFinder" target="_blank">GitHub Repo</a></p>
	      </div>
	    </footer>

	</div>


<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header" style="padding: 45px">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h2 class="modal-title" id="myModalLabel" style='color:#2F6FB9'></h2>
			</div>
			<div class="modal-body" style="padding: 45px">
				<h2 id="matchName"></h2>
				<img id="matchImg" src="" alt="" style="max-width: 500px; max-height: 400px;">
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>


<script type="text/javascript">

/// Chosen CSS
var config = {
	'.chosen-select'           : {},
	'.chosen-select-deselect'  : {allow_single_deselect:true},
	'.chosen-select-no-single' : {disable_search_threshold:10},
	'.chosen-select-no-results': {no_results_text:'Oops, nothing found!'},
	'.chosen-select-width'     : {width:"95%"}
}

for (var selector in config) {
  $(selector).chosen(config[selector]);
}

// Capture the form inputs 
$("#submit").on("click", function(){

	// Form validation
	function validateForm() {
		var isValid = true;
		$('.form-control').each(function() {

			if ( $(this).val() === '' )
	  			isValid = false;
		});

		$('.chosen-select').each(function() {

			if( $(this).val() === "")
		    	isValid = false
		})
		return isValid;
	}

	// If all required fields are filled
	if (validateForm() == true) {
		// Create an object for the user's data
		var userData = {
			name: $("#name").val(),
			photo: $("#photo").val(),
			scores: [$("#question1").val(), $("#question2").val(), $("#question3").val(), $("#question4").val(), $("#question5").val(), $("#question6").val(), $("#question7").val(), $("#question8").val(), $("#question9").val(), $("#question10").val(),
			]
		}

		// Grab the URL of the website
		var currentURL = window.location.origin;


		// AJAX post the data to the friends API. 
		$.post(currentURL + "/api/friends", userData, function(data){

			// Grab the result from the AJAX post so that the best match's name and photo are displayed.
			$("#myModalLabel").html("<strong>Best Match</strong>!");
			$("#matchName").html(data.matchName);
			$("#matchImg").attr("src", data.matchImage);

			// Show the modal with the best match 
			$("#myModal").modal('toggle');

		});
	} else {
		//Display error when form is not completely filled
		$(".modal-title").html("<span style='font-weight: bold; color: orange;'>Not so fast speedy!</span>");
		$("#matchName").html("Please fill out all fields before submitting.");
		$("#myModal").modal('toggle');
	}
    return false;
});

// function clearFriendsList (){
// 	var currentURL = window.location.origin;
// 	$.ajax({URL: currentURL + "/api/clear", method: "POST"});
// }

// $("#clear").on("click", function() {
// 	clearFriendsList()
// })

</script>

</body>
</html>